# Ğ’Ğ°Ğ¶Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹

## Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°

```bash
npm install          # Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹
npm run dev          # Ğ—Ğ°Ğ¿ÑƒÑĞº dev-ÑĞµÑ€Ğ²ĞµÑ€Ğ° (Vite)
npm run build        # Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ´Ğ»Ñ production (TypeScript + Vite)
npm run preview      # ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ production ÑĞ±Ğ¾Ñ€ĞºĞ¸
```

## Git

```bash
git status           # Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹
git add .            # Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ
git commit -m "..."  # Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚
git push             # ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ
git pull             # ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ
```

## Claude Code (ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ´Ğ»Ñ AI)

```
/init                                    # Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ/Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ CLAUDE.md
ĞĞ±Ğ½Ğ¾Ğ²Ğ¸ CLAUDE.md Ñ ÑƒÑ‡ĞµÑ‚Ğ¾Ğ¼ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ñ… Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹  # ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹
ĞŸÑ€Ğ¾ÑĞºĞ°Ğ½Ğ¸Ñ€ÑƒĞ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚                       # Ğ˜Ğ·ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹ ĞºĞ¾Ğ¼Ğ¼Ğ¸Ñ‚                            # Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ git commit Ñ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸ÑĞ¼Ğ¸
Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸ ÑĞ±Ğ¾Ñ€ĞºÑƒ Ğ¸ Ğ¸ÑĞ¿Ñ€Ğ°Ğ²ÑŒ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸          # Build + fix errors
```

## ĞŸÑ€Ğ¾ĞµĞºÑ‚

- Dev-ÑĞµÑ€Ğ²ĞµÑ€ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ Ğ½Ğ° `http://localhost:5173`
- Canvas Ñ€ĞµĞ½Ğ´ĞµÑ€Ğ¸Ñ‚ÑÑ Ğ² `#canvas` ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚
- JSON Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ÑÑ‚ÑÑ Ğ¸Ğ· `/public/assets/`

src/threeApp/interaction/
â”œâ”€â”€ InteractionOrchestrator.ts # Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ‚Ğ¾Ñ€ (ĞºĞ°Ğº MyHouse)
â”‚
â”œâ”€â”€ input/ # Ğ¡Ğ»Ğ¾Ğ¹ Ğ²Ğ²Ğ¾Ğ´Ğ°
â”‚ â”œâ”€â”€ MouseInputManager.ts # Centralized mouse/touch
â”‚ â”œâ”€â”€ KeyboardInputManager.ts # ĞšĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ°
â”‚ â””â”€â”€ GestureDetector.ts # Ğ–ĞµÑÑ‚Ñ‹ (pinch, long-press)
â”‚
â”œâ”€â”€ routing/ # Ğ¡Ğ»Ğ¾Ğ¹ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
â”‚ â”œâ”€â”€ ClickRouter.ts # ĞœĞ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ĞºĞ»Ğ¸ĞºĞ¾Ğ² (ĞºĞ°Ğº MyManagerClick)
â”‚ â”œâ”€â”€ RaycastService.ts # Raycasting
â”‚ â””â”€â”€ ObjectIdentifier.ts # ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ñ‚Ğ¸Ğ¿Ğ° Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ° Ğ¿Ğ¾ userData.tag
â”‚
â”œâ”€â”€ context/ # ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ
â”‚ â”œâ”€â”€ InteractionContext.ts # Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ
â”‚ â”œâ”€â”€ BlockingSystem.ts # Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ¾Ğº (ĞºĞ°Ğº infProject.scene.block)
â”‚ â”œâ”€â”€ SelectionManager.ts # Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ Ğ²Ñ‹Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ
â”‚ â””â”€â”€ ToolStateManager.ts # Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²
â”‚
â”œâ”€â”€ features/ # Ğ¤Ğ¸Ñ‡Ğ¸ (Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²)
â”‚ â”œâ”€â”€ walls/
â”‚ â”‚ â”œâ”€â”€ WallFeature.ts # ĞÑ€ĞºĞµÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€ ÑÑ‚ĞµĞ½
â”‚ â”‚ â”œâ”€â”€ WallDragHandler.ts
â”‚ â”‚ â”œâ”€â”€ WallResizeHandler.ts
â”‚ â”‚ â””â”€â”€ WallSplitHandler.ts
â”‚ â”œâ”€â”€ points/
â”‚ â”‚ â”œâ”€â”€ PointFeature.ts
â”‚ â”‚ â”œâ”€â”€ PointDragHandler.ts
â”‚ â”‚ â””â”€â”€ PointSnapHandler.ts
â”‚ â”œâ”€â”€ rooms/
â”‚ â”‚ â”œâ”€â”€ RoomFeature.ts
â”‚ â”‚ â””â”€â”€ RoomSelectHandler.ts
â”‚ â”œâ”€â”€ objects/
â”‚ â”‚ â”œâ”€â”€ ObjectFeature.ts
â”‚ â”‚ â”œâ”€â”€ ObjectPlaceHandler.ts
â”‚ â”‚ â”œâ”€â”€ ObjectRotateHandler.ts
â”‚ â”‚ â””â”€â”€ ObjectDragHandler.ts
â”‚ â”œâ”€â”€ doors-windows/
â”‚ â”‚ â”œâ”€â”€ DWFeature.ts
â”‚ â”‚ â”œâ”€â”€ DWMoveHandler.ts
â”‚ â”‚ â””â”€â”€ DWResizeHandler.ts
â”‚ â””â”€â”€ roofs/
â”‚ â”œâ”€â”€ RoofFeature.ts
â”‚ â””â”€â”€ RoofEditHandler.ts
â”‚
â”œâ”€â”€ tools/ # Ğ£Ğ½Ğ¸Ğ²ĞµÑ€ÑĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹
â”‚ â”œâ”€â”€ TransformTool/
â”‚ â”‚ â”œâ”€â”€ TransformToolManager.ts
â”‚ â”‚ â”œâ”€â”€ PivotTool.ts # ĞŸĞµÑ€ĞµĞ¼ĞµÑ‰ĞµĞ½Ğ¸Ğµ
â”‚ â”‚ â”œâ”€â”€ GizmoTool.ts # ĞŸĞ¾Ğ²Ğ¾Ñ€Ğ¾Ñ‚
â”‚ â”‚ â””â”€â”€ ScaleTool.ts # ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±
â”‚ â”œâ”€â”€ MeasureTool/
â”‚ â”‚ â”œâ”€â”€ RulerTool.ts
â”‚ â”‚ â””â”€â”€ AreaTool.ts
â”‚ â””â”€â”€ SelectionBox/
â”‚ â””â”€â”€ SelectionBoxTool.ts
â”‚
â”œâ”€â”€ behaviors/ # ĞŸĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ Ğ¿Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ñ
â”‚ â”œâ”€â”€ DragBehavior.ts # ĞĞ±Ñ‰Ğ°Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¿ĞµÑ€ĞµÑ‚Ğ°ÑĞºĞ¸Ğ²Ğ°Ğ½Ğ¸Ñ (plane-based)
â”‚ â”œâ”€â”€ SnapBehavior.ts # ĞŸÑ€Ğ¸Ğ²ÑĞ·ĞºĞ°
â”‚ â”œâ”€â”€ HoverBehavior.ts # ĞŸĞ¾Ğ´ÑĞ²ĞµÑ‚ĞºĞ°
â”‚ â””â”€â”€ OutlineBehavior.ts # ĞĞ±Ğ²Ğ¾Ğ´ĞºĞ° Ğ²Ñ‹Ğ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ñ…
â”‚
â”œâ”€â”€ modes/ # Ğ ĞµĞ¶Ğ¸Ğ¼Ñ‹ ĞºĞ°Ğ¼ĞµÑ€Ñ‹/Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
â”‚ â”œâ”€â”€ ModeManager.ts # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ°Ğ¼Ğ¸
â”‚ â”œâ”€â”€ Camera2DMode.ts # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ 2D
â”‚ â”œâ”€â”€ Camera3DMode.ts # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ 3D
â”‚ â”œâ”€â”€ ViewOnlyMode.ts # Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€
â”‚ â””â”€â”€ PresentationMode.ts # ĞŸÑ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼
â”‚
â””â”€â”€ undo/ # Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹/Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ°
â”œâ”€â”€ UndoRedoManager.ts # Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´
â”œâ”€â”€ Command.ts # Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ Command
â””â”€â”€ commands/
â”œâ”€â”€ MoveCommand.ts
â”œâ”€â”€ DeleteCommand.ts
â”œâ”€â”€ AddCommand.ts
â””â”€â”€ TransformCommand.ts

src/threeApp/interaction/
â”œâ”€â”€ core/
â”‚ â”œâ”€â”€ InteractionBus.ts # Event Bus Ğ´Ğ»Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ
â”‚ â”œâ”€â”€ InteractionContext.ts # Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ
â”‚ â”œâ”€â”€ RaycastManager.ts # Ğ¦ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ raycasting
â”‚ â””â”€â”€ CursorManager.ts # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºÑƒÑ€ÑĞ¾Ñ€Ğ¾Ğ¼
â”‚
â”œâ”€â”€ states/ # Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ (State Machine)
â”‚ â”œâ”€â”€ StateManager.ts # FSM: Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ñ‹ Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸ÑĞ¼Ğ¸
â”‚ â”œâ”€â”€ states/
â”‚ â”‚ â”œâ”€â”€ IdleState.ts # ĞĞ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ´ĞµĞ»Ğ°ĞµĞ¼
â”‚ â”‚ â”œâ”€â”€ HoverState.ts # ĞĞ°Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ
â”‚ â”‚ â”œâ”€â”€ DraggingState.ts # ĞŸĞµÑ€ĞµÑ‚Ğ°ÑĞºĞ¸Ğ²Ğ°Ğ½Ğ¸Ğµ
â”‚ â”‚ â”œâ”€â”€ SelectingState.ts # Ğ’Ñ‹Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ
â”‚ â”‚ â”œâ”€â”€ PlacingState.ts # Ğ Ğ°Ğ·Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ°
â”‚ â”‚ â””â”€â”€ MeasuringState.ts # Ğ˜Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğµ
â”‚ â””â”€â”€ transitions.ts # ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¾Ğ²
â”‚
â”œâ”€â”€ capabilities/ # Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ (Capability Pattern)
â”‚ â”œâ”€â”€ Draggable.ts # ĞœĞ¸ĞºÑĞ¸Ğ½: Ğ¾Ğ±ÑŠĞµĞºÑ‚ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµÑ‚Ğ°ÑĞºĞ¸Ğ²Ğ°Ñ‚ÑŒ
â”‚ â”œâ”€â”€ Selectable.ts # ĞœĞ¸ĞºÑĞ¸Ğ½: Ğ¾Ğ±ÑŠĞµĞºÑ‚ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ²Ñ‹Ğ´ĞµĞ»ÑÑ‚ÑŒ
â”‚ â”œâ”€â”€ Snappable.ts # ĞœĞ¸ĞºÑĞ¸Ğ½: Ğ¿Ñ€Ğ¸Ğ²ÑĞ·ĞºĞ° Ğº ÑĞµÑ‚ĞºĞµ
â”‚ â”œâ”€â”€ Resizable.ts # ĞœĞ¸ĞºÑĞ¸Ğ½: Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ°
â”‚ â”œâ”€â”€ Hoverable.ts # ĞœĞ¸ĞºÑĞ¸Ğ½: Ğ¿Ğ¾Ğ´ÑĞ²ĞµÑ‚ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ½Ğ°Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğ¸
â”‚ â””â”€â”€ Deletable.ts # ĞœĞ¸ĞºÑĞ¸Ğ½: Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ
â”‚
â”œâ”€â”€ controllers/ # ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€Ñ‹ Ğ´Ğ»Ñ Ñ‚Ğ¸Ğ¿Ğ¾Ğ² Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ²
â”‚ â”œâ”€â”€ PointController.ts # Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ñ‚Ğ¾Ñ‡ĞµĞº
â”‚ â”œâ”€â”€ WallController.ts # Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° ÑÑ‚ĞµĞ½
â”‚ â”œâ”€â”€ RoomController.ts # Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° ĞºĞ¾Ğ¼Ğ½Ğ°Ñ‚
â”‚ â”œâ”€â”€ ObjectController.ts # Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¼ĞµĞ±ĞµĞ»Ğ¸/Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ²
â”‚ â””â”€â”€ RoofController.ts # Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° ĞºÑ€Ñ‹Ñˆ
â”‚
â”œâ”€â”€ policies/ # ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° (Ñ‡Ñ‚Ğ¾ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ² ĞºĞ°ĞºĞ¾Ğ¼ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ)
â”‚ â”œâ”€â”€ InteractionPolicy.ts # Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ»Ğ°ÑÑ Ğ¿Ğ¾Ğ»Ğ¸Ñ‚Ğ¸Ğº
â”‚ â”œâ”€â”€ Camera2DPolicy.ts # ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ´Ğ»Ñ 2D ĞºĞ°Ğ¼ĞµÑ€Ñ‹
â”‚ â”œâ”€â”€ Camera3DPolicy.ts # ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ´Ğ»Ñ 3D ĞºĞ°Ğ¼ĞµÑ€Ñ‹
â”‚ â””â”€â”€ ViewOnlyPolicy.ts # Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€
â”‚
â””â”€â”€ actions/ # ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ (Command Pattern Ğ´Ğ»Ñ Undo/Redo)
â”œâ”€â”€ ActionManager.ts # ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´ + Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ
â”œâ”€â”€ MovePointAction.ts
â”œâ”€â”€ MoveWallAction.ts
â”œâ”€â”€ AddObjectAction.ts
â”œâ”€â”€ DeleteObjectAction.ts
â””â”€â”€ ResizeWallAction.ts

src/threeApp/interaction/
â”œâ”€â”€ core/
â”‚ â”œâ”€â”€ InteractionOrchestrator.ts # ğŸ¯ Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ‚Ğ¾Ñ€
â”‚ â”œâ”€â”€ EventBus.ts # ğŸ“¡ Ğ›ĞµĞ³ĞºĞ¸Ğ¹ Event Bus (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ Ğ¼ĞµĞ¶Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒĞ½Ñ‹Ñ… ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹)
â”‚ â”œâ”€â”€ InteractionContext.ts # ğŸ—‚ï¸ Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ
â”‚ â””â”€â”€ CursorManager.ts # ğŸ–±ï¸ Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºÑƒÑ€ÑĞ¾Ñ€Ğ¾Ğ¼
â”‚
â”œâ”€â”€ input/ # ğŸ“¥ Ğ¡Ğ›ĞĞ™ Ğ’Ğ’ĞĞ”Ğ
â”‚ â”œâ”€â”€ MouseInputManager.ts # Ğ¦ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ mouse/touch
â”‚ â”œâ”€â”€ KeyboardInputManager.ts # ĞšĞ»Ğ°Ğ²Ğ¸Ğ°Ñ‚ÑƒÑ€Ğ° (shortcuts)
â”‚ â””â”€â”€ GestureDetector.ts # Ğ–ĞµÑÑ‚Ñ‹ (long-press, pinch)
â”‚
â”œâ”€â”€ routing/ # ğŸš¦ Ğ¡Ğ›ĞĞ™ ĞœĞĞ Ğ¨Ğ Ğ£Ğ¢Ğ˜Ğ—ĞĞ¦Ğ˜Ğ˜
â”‚ â”œâ”€â”€ ClickRouter.ts # ĞœĞ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ Ğ¿Ğ¾ Ñ‚Ğ¸Ğ¿Ğ°Ğ¼ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ²
â”‚ â”œâ”€â”€ RaycastService.ts # Ğ¦ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ raycasting
â”‚ â””â”€â”€ ObjectIdentifier.ts # ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ñ‚Ğ¸Ğ¿Ğ° Ğ¿Ğ¾ userData.tag
â”‚
â”œâ”€â”€ modes/ # ğŸ¨ Ğ Ğ•Ğ–Ğ˜ĞœĞ« Ğ ĞĞ‘ĞĞ¢Ğ«
â”‚ â”œâ”€â”€ ModeManager.ts # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ°Ğ¼Ğ¸ (Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğ¹, Ğ±ĞµĞ· FSM)
â”‚ â”œâ”€â”€ Mode.ts # Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ»Ğ°ÑÑ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ°
â”‚ â”œâ”€â”€ Camera2DMode.ts # 2D Ñ€ĞµĞ¶Ğ¸Ğ¼ (Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‚Ğ¾Ñ‡ĞµĞº/ÑÑ‚ĞµĞ½)
â”‚ â”œâ”€â”€ Camera3DMode.ts # 3D Ñ€ĞµĞ¶Ğ¸Ğ¼ (Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ + Ñ€Ğ°Ğ·Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ğµ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ²)
â”‚ â”œâ”€â”€ ViewOnlyMode.ts # Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€
â”‚ â””â”€â”€ MeasureMode.ts # Ğ ĞµĞ¶Ğ¸Ğ¼ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğ¹
â”‚
â”œâ”€â”€ policies/ # ğŸ”’ ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ Ğ”ĞĞ¡Ğ¢Ğ£ĞŸĞ
â”‚ â”œâ”€â”€ InteractionPolicy.ts # Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ»Ğ°ÑÑ Ğ¿Ğ¾Ğ»Ğ¸Ñ‚Ğ¸Ğº
â”‚ â”œâ”€â”€ Camera2DPolicy.ts # Ğ§Ñ‚Ğ¾ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ² 2D
â”‚ â”œâ”€â”€ Camera3DPolicy.ts # Ğ§Ñ‚Ğ¾ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ² 3D
â”‚ â””â”€â”€ PolicyRegistry.ts # Ğ ĞµĞµÑÑ‚Ñ€ Ğ¿Ğ¾Ğ»Ğ¸Ñ‚Ğ¸Ğº
â”‚
â”œâ”€â”€ capabilities/ # ğŸ§© Ğ’ĞĞ—ĞœĞĞ–ĞĞĞ¡Ğ¢Ğ˜ ĞĞ‘ĞªĞ•ĞšĞ¢ĞĞ’ (Mixins)
â”‚ â”œâ”€â”€ Capability.ts # Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ
â”‚ â”œâ”€â”€ Draggable.ts # ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµÑ‚Ğ°ÑĞºĞ¸Ğ²Ğ°Ñ‚ÑŒ
â”‚ â”œâ”€â”€ Selectable.ts # ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ²Ñ‹Ğ´ĞµĞ»ÑÑ‚ÑŒ
â”‚ â”œâ”€â”€ Snappable.ts # ĞŸÑ€Ğ¸Ğ²ÑĞ·ĞºĞ° Ğº ÑĞµÑ‚ĞºĞµ
â”‚ â”œâ”€â”€ Resizable.ts # Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ°
â”‚ â”œâ”€â”€ Hoverable.ts # ĞŸĞ¾Ğ´ÑĞ²ĞµÑ‚ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ½Ğ°Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğ¸
â”‚ â”œâ”€â”€ Rotatable.ts # ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ²Ñ€Ğ°Ñ‰Ğ°Ñ‚ÑŒ
â”‚ â””â”€â”€ Deletable.ts # ĞœĞ¾Ğ¶Ğ½Ğ¾ ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ
â”‚
â”œâ”€â”€ features/ # ğŸ­ Ğ¤Ğ˜Ğ§Ğ˜ (Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²)
â”‚ â”œâ”€â”€ Feature.ts # Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ»Ğ°ÑÑ Ñ„Ğ¸Ñ‡Ğ¸
â”‚ â”‚
â”‚ â”œâ”€â”€ points/
â”‚ â”‚ â”œâ”€â”€ PointFeature.ts # ĞÑ€ĞºĞµÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€ Ñ‚Ğ¾Ñ‡ĞµĞº
â”‚ â”‚ â”œâ”€â”€ PointDragHandler.ts # ĞŸĞµÑ€ĞµÑ‚Ğ°ÑĞºĞ¸Ğ²Ğ°Ğ½Ğ¸Ğµ
â”‚ â”‚ â””â”€â”€ PointSnapHandler.ts # ĞŸÑ€Ğ¸Ğ²ÑĞ·ĞºĞ°
â”‚ â”‚
â”‚ â”œâ”€â”€ walls/
â”‚ â”‚ â”œâ”€â”€ WallFeature.ts # ĞÑ€ĞºĞµÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€ ÑÑ‚ĞµĞ½
â”‚ â”‚ â”œâ”€â”€ WallDragHandler.ts # ĞŸĞµÑ€ĞµĞ¼ĞµÑ‰ĞµĞ½Ğ¸Ğµ
â”‚ â”‚ â”œâ”€â”€ WallResizeHandler.ts # Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ°
â”‚ â”‚ â””â”€â”€ WallSplitHandler.ts # Ğ Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ ÑÑ‚ĞµĞ½Ñ‹
â”‚ â”‚
â”‚ â”œâ”€â”€ rooms/
â”‚ â”‚ â”œâ”€â”€ RoomFeature.ts
â”‚ â”‚ â””â”€â”€ RoomSelectHandler.ts
â”‚ â”‚
â”‚ â”œâ”€â”€ objects/
â”‚ â”‚ â”œâ”€â”€ ObjectFeature.ts # ĞœĞµĞ±ĞµĞ»ÑŒ/Ğ¾Ğ±ÑŠĞµĞºÑ‚Ñ‹
â”‚ â”‚ â”œâ”€â”€ ObjectPlaceHandler.ts # Ğ Ğ°Ğ·Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ğµ
â”‚ â”‚ â”œâ”€â”€ ObjectDragHandler.ts # ĞŸĞµÑ€ĞµĞ¼ĞµÑ‰ĞµĞ½Ğ¸Ğµ
â”‚ â”‚ â””â”€â”€ ObjectRotateHandler.ts # ĞŸĞ¾Ğ²Ğ¾Ñ€Ğ¾Ñ‚
â”‚ â”‚
â”‚ â”œâ”€â”€ doors-windows/
â”‚ â”‚ â”œâ”€â”€ DWFeature.ts
â”‚ â”‚ â”œâ”€â”€ DWMoveHandler.ts
â”‚ â”‚ â””â”€â”€ DWResizeHandler.ts
â”‚ â”‚
â”‚ â””â”€â”€ roofs/
â”‚ â”œâ”€â”€ RoofFeature.ts
â”‚ â””â”€â”€ RoofEditHandler.ts
â”‚
â”œâ”€â”€ behaviors/ # ğŸ”„ ĞŸĞ•Ğ Ğ•Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—Ğ£Ğ•ĞœĞ«Ğ• ĞŸĞĞ’Ğ•Ğ”Ğ•ĞĞ˜Ğ¯
â”‚ â”œâ”€â”€ DragBehavior.ts # ĞĞ±Ñ‰Ğ°Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° drag (plane-based)
â”‚ â”œâ”€â”€ SnapBehavior.ts # ĞŸÑ€Ğ¸Ğ²ÑĞ·ĞºĞ° Ğº ÑĞµÑ‚ĞºĞµ/Ñ‚Ğ¾Ñ‡ĞºĞ°Ğ¼
â”‚ â”œâ”€â”€ HoverBehavior.ts # ĞŸĞ¾Ğ´ÑĞ²ĞµÑ‚ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ½Ğ°Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğ¸
â”‚ â”œâ”€â”€ OutlineBehavior.ts # ĞĞ±Ğ²Ğ¾Ğ´ĞºĞ° Ğ²Ñ‹Ğ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ñ…
â”‚ â””â”€â”€ CollisionBehavior.ts # ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ğ»Ğ»Ğ¸Ğ·Ğ¸Ğ¹
â”‚
â”œâ”€â”€ tools/ # ğŸ› ï¸ Ğ£ĞĞ˜Ğ’Ğ•Ğ Ğ¡ĞĞ›Ğ¬ĞĞ«Ğ• Ğ˜ĞĞ¡Ğ¢Ğ Ğ£ĞœĞ•ĞĞ¢Ğ«
â”‚ â”œâ”€â”€ ToolManager.ts # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸
â”‚ â”œâ”€â”€ SelectionTool.ts # Ğ’Ñ‹Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ (box selection)
â”‚ â”œâ”€â”€ MeasureTool.ts # Ğ˜Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ (Ğ»Ğ¸Ğ½ĞµĞ¹ĞºĞ°, Ğ¿Ğ»Ğ¾Ñ‰Ğ°Ğ´ÑŒ)
â”‚ â”œâ”€â”€ TransformTool.ts # Ğ¢Ñ€Ğ°Ğ½ÑÑ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ (pivot/rotate/scale)
â”‚ â””â”€â”€ SnapTool.ts # ĞŸÑ€Ğ¸Ğ²ÑĞ·ĞºĞ°
â”‚
â”œâ”€â”€ commands/ # â®ï¸ ĞšĞĞœĞĞĞ”Ğ« Ğ”Ğ›Ğ¯ UNDO/REDO
â”‚ â”œâ”€â”€ CommandManager.ts # Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´ + Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ
â”‚ â”œâ”€â”€ Command.ts # Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹
â”‚ â”œâ”€â”€ MoveCommand.ts # ĞŸĞµÑ€ĞµĞ¼ĞµÑ‰ĞµĞ½Ğ¸Ğµ
â”‚ â”œâ”€â”€ DeleteCommand.ts # Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ
â”‚ â”œâ”€â”€ AddCommand.ts # Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ
â”‚ â”œâ”€â”€ ResizeCommand.ts # Ğ˜Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ°
â”‚ â””â”€â”€ TransformCommand.ts # Ğ¢Ñ€Ğ°Ğ½ÑÑ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ
â”‚
â””â”€â”€ blocking/ # ğŸš« Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ Ğ‘Ğ›ĞĞšĞ˜Ğ ĞĞ’ĞĞš
â”œâ”€â”€ BlockingManager.ts # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ°Ğ¼Ğ¸
â””â”€â”€ BlockingRules.ts # ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ¾Ğº

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ USER INPUT (Mouse, Keyboard, Touch) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INPUT LAYER: MouseInputManager, KeyboardInputManager â”‚
â”‚ - ĞĞ¾Ñ€Ğ¼Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹ â”‚
â”‚ - ĞĞ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ Ğ¶ĞµÑÑ‚Ğ¾Ğ² â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ROUTING LAYER: ClickRouter, RaycastService â”‚
â”‚ - Raycasting â”‚
â”‚ - ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ñ‚Ğ¸Ğ¿Ğ° Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ° (point, wall, object) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POLICY CHECK: PolicyRegistry â”‚
â”‚ - ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ°: Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ»Ğ¸ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ñ‚ÑŒ? â”‚
â”‚ - Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ñ€ĞµĞ¶Ğ¸Ğ¼ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞ°ĞµÑ‚ ÑÑ‚Ğ¾ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ? â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CAPABILITY CHECK: ĞĞ±ÑŠĞµĞºÑ‚ Ğ¸Ğ¼ĞµĞµÑ‚ Ğ½ÑƒĞ¶Ğ½ÑƒÑ Capability? â”‚
â”‚ - Draggable? Selectable? Resizable? â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FEATURE LAYER: PointFeature, WallFeature, ObjectFeature â”‚
â”‚ - Ğ”ĞµĞ»ĞµĞ³Ğ¸Ñ€ÑƒĞµÑ‚ Ğ² ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğ¹ Handler â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HANDLER: PointDragHandler, WallMoveHandler, etc. â”‚
â”‚ - Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Behaviors (DragBehavior, SnapBehavior) â”‚
â”‚ - Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµÑ‚ Command Ğ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ² CommandManager â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ COMMAND EXECUTION: CommandManager â”‚
â”‚ - Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ â”‚
â”‚ - Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ Ğ² Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸ Ğ´Ğ»Ñ Undo/Redo â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EVENT BUS: Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ¼Ğ¾Ğ´ÑƒĞ»ĞµĞ¹ â”‚
â”‚ - 'object:moved', 'wall:resized', 'selection:changed' â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
